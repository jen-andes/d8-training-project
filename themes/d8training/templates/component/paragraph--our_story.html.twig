{#
/**
 * @file
 * Theme override to display an 'Our Story' component.
 */
#}

{% set type = content.field_story_type.0['#markup'] %}
{% if type == 'video' %}
  {% set video_image = image_attr(content.field_image) %}
  {% set video_link  = content.field_link.0['#url'].toString() %}
{% else %}
  {% set images = image_attr(content.field_images) %}
{% endif %}

{{ attach_library('d8training/our-story') }}
{% include '@d8training/our-story/our-story.twig' with {
    'type': type,
    'kicker': content.field_kicker.0['#context'].value,
    'description': content.field_plain_text.0['#context'].value,
    'images': images,
    'video_image': video_image,
    'video_link': video_link
  } only
%}
